{% extends 'layouts/base.html' %}
{% import 'components/forms.html' as forms %}

{% block title %}Iniciar Sesi칩n{% endblock %}

{% block content %}
<div class="bg-cover flex h-screen justify-center items-center bg-gray-300"
    style="background-image: url(/static/assets/img/siu9.jpg)">
    <div class="shadow-xl mx-auto grid grid-cols-2 bg-white container">
        <form class="flex flex-col justify-center items-center" method="POST" action="/auth/login">
            <img class="w-48 mb-8" src="/static/assets/img/logo2.png" alt="Logo" />
            <div class="flex flex-col items-center w-3/5">
                <div class="space-y-4">
                    {{ forms.input('email', '', 'Correo Electr칩nico', 'fas fa-user-alt') }}
                    {{ forms.input('password', '', 'Contrase침a', 'fas fa-key') }}
                </div>

                <div class="mt-8 text-right w-full">
                    <button type="submit">
                        Iniciar sesi칩n
                    </button>
                </div>
            </div>
        </form>

        <div>
            <img class="h-140 w-full object-cover" src="/static/assets/img/background.jpg"
                alt="Image bien chida la neta bro" />
        </div>
    </div>
</div>
{% endblock %}


<!-- <script lang="ts">
  import Vue from 'vue';
  import Button from '@/components/public/Button.vue';
  import { MUTATIONS as AuthMutations, ACTIONS as AuthActions } from '@/store/modules/auth';
  import Input from '@/components/Input.vue';
  import Link from '@/components/Link.vue';
  import Spinner from '@/components/Spinner.vue';
  import authService from '@/services/auth';
  
  export default Vue.extend({
    components: {
      Button,
      Input,
      Spinner,
      Link,
    },
    data() {
      return {
        code: {
          value: '',
          error: '',
        },
        password: {
          value: '',
          error: '',
        },
        error: false,
        message: '',
        loading: false,
      };
    },
    methods: {
      async onLogin(e: Event): Promise<void> {
        e.preventDefault();
        this.message = '';
        this.error = false;
        this.loading = true;
  
        try {
          const response = await authService.login(this.code.value, this.password.value);
          this.$store.commit(AuthMutations.SET_TOKEN, response.data.token);
          this.$store.dispatch(AuthActions.FETCH_PROFILE);
        } catch (err) {
          this.message = err.response.data.message;
          this.error = true;
        } finally {
          this.loading = false;
          if (!this.error) {
            this.$router.push({ path: 'a' });
          }
        }
      },
    },
  });
  </script> -->
